{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/worker/gamelogic/index.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;GAWG;;AAIH,SAAS,OAAO;IACd,OAAO;QACL,OAAO,EAAE,KAAK;QACd,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,KAAK;QACf,aAAa,EAAE,CAAC;QAChB,aAAa,EAAE,CAAC;KACjB,CAAC;AACJ,CAAC;AAWD,IAAM,2BAA2B,GAAG,EAAE,CAAC;AAEvC;IAyBE,yBACU,MAAc,EACd,OAAe,EACf,MAAc;QAFd,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAQ;QACf,WAAM,GAAN,MAAM,CAAQ;QAVhB,cAAS,mBAAoB;QAC7B,cAAS,GAAG,CAAC,CAAC;QACd,WAAM,GAAG,CAAC,CAAC;QAEX,iBAAY,GAAgB,EAAE,CAAC;QAC/B,gBAAW,GAA4B,EAAE,CAAC;QAOhD,IAAI,MAAM,GAAG,CAAC,EAAE;YACd,MAAM,KAAK,CAAC,yBAAyB,CAAC,CAAC;SACxC;QACD,IAAI,MAAM,GAAG,CAAC,IAAI,OAAO,GAAG,CAAC,EAAE;YAC7B,MAAM,KAAK,CAAC,oBAAoB,CAAC,CAAC;SACnC;QAED,IAAM,QAAQ,GAAG,MAAM,GAAG,OAAO,GAAG,CAAC,CAAC;QAEtC,IAAI,MAAM,GAAG,QAAQ,EAAE;YACrB,MAAM,KAAK,CAAC,oCAAoC,CAAC,CAAC;SACnD;QAED,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,OAAO,GAAG,MAAM,CAAC;QAE3C,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC;aACvB,IAAI,CAAC,SAAS,CAAC;aACf,GAAG,CAAC;YACH,OAAA,KAAK,CAAC,MAAM,CAAC;iBACV,IAAI,CAAC,SAAS,CAAC;iBACf,GAAG,CAAC,cAAM,OAAA,OAAO,EAAE,EAAT,CAAS,CAAC;QAFvB,CAEuB,CACxB,CAAC;IACN,CAAC;IAnDD,sBAAI,qCAAQ;aAAZ;YACE,OAAO,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;;;OAAA;IAED,sBAAI,kCAAK;aAAT;YACE,OAAO,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;;;OAAA;IAED,sBAAI,mCAAM;aAAV;YACE,OAAO,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC;;;OAAA;IAED,sBAAI,kCAAK;aAAT;YACE,OAAO,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;;;OAAA;IAuCD,mCAAS,GAAT,UAAU,QAAwB;QAChC,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;IAClC,CAAC;IAED,qCAAW,GAAX;QACE,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IACnC,CAAC;IAED,gCAAM,GAAN,UAAO,CAAS,EAAE,CAAS;QACzB,IAAI,IAAI,CAAC,SAAS,oBAAqB,EAAE;YACvC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACxB;aAAM,IAAI,IAAI,CAAC,SAAS,oBAAqB,EAAE;YAC9C,MAAM,KAAK,CAAC,iCAAiC,CAAC,CAAC;SAChD;QAED,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7B,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,MAAM,KAAK,CAAC,cAAc,CAAC,CAAC;SAC7B;QAED,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,iCAAO,GAAP,UAAQ,CAAS,EAAE,CAAS,EAAE,OAAgB;;QAC5C,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,MAAM,KAAK,CAAC,gCAAgC,CAAC,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;YAC5B,OAAO;SACR;QAED,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAE3B,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;gBAChC,KAA6B,IAAA,KAAA,iBAAA,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA,gBAAA,4BAAE;oBAA9C,IAAA,gCAAc,EAAb,aAAK,EAAE,aAAK;oBACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;oBACzC,QAAQ,CAAC,aAAa,EAAE,CAAC;oBACzB,qDAAqD;oBACrD,IACE,QAAQ,CAAC,QAAQ;wBACjB,QAAQ,CAAC,aAAa,KAAK,QAAQ,CAAC,aAAa,EACjD;wBACA,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;qBACpC;iBACF;;;;;;;;;SACF;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;gBAChC,KAA6B,IAAA,KAAA,iBAAA,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA,gBAAA,4BAAE;oBAA9C,IAAA,gCAAc,EAAb,aAAK,EAAE,aAAK;oBACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;oBACzC,QAAQ,CAAC,aAAa,EAAE,CAAC;oBACzB,wDAAwD;oBACxD,IACE,QAAQ,CAAC,QAAQ;wBACjB,QAAQ,CAAC,aAAa,KAAK,QAAQ,CAAC,aAAa,GAAG,CAAC,EACrD;wBACA,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;qBACpC;iBACF;;;;;;;;;SACF;QACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,kDAAwB,GAAxB,UAAyB,CAAS,EAAE,CAAS;;QAC3C,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7B,IACE,CAAC,IAAI,CAAC,QAAQ;YACd,IAAI,CAAC,aAAa,KAAK,CAAC;YACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,EACvC;YACA,OAAO,KAAK,CAAC;SACd;QAED,IAAI,iBAAiB,GAAG,KAAK,CAAC;;YAE9B,KAA6B,IAAA,KAAA,iBAAA,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA,gBAAA,4BAAE;gBAA9C,IAAA,gCAAc,EAAb,aAAK,EAAE,aAAK;gBACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;gBACzC,IAAI,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,QAAQ,EAAE;oBACzC,SAAS;iBACV;gBACD,iBAAiB,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;aAC5B;;;;;;;;;QAED,IAAI,CAAC,iBAAiB,EAAE;YACtB,OAAO,KAAK,CAAC;SACd;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,2CAAiB,GAAzB;QACE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAC/C,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACzB,MAAM,KAAK,CAAC,kCAAkC,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACzB,CAAC;IAEO,yCAAe,GAAvB,UAAwB,CAAS,EAAE,CAAS;QAC1C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;YAClC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,EAAE,CAAC;SACpC;QAED,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE5D,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,IAAI,2BAA2B,EAAE;YACvE,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;IACH,CAAC;IAEO,sCAAY,GAApB,UAAqB,OAAiB;QACpC,IAAI,IAAI,CAAC,SAAS,KAAK,OAAO,EAAE;YAC9B,OAAO;SACR;QACD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,OAAO,CAAC;IACvC,CAAC;IAEO,sCAAY,GAApB,UAAqB,WAAmB;QACtC,IAAI,IAAI,CAAC,SAAS,KAAK,WAAW,EAAE;YAClC,OAAO;SACR;QACD,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,WAAW,CAAC;IAC3C,CAAC;IAEO,mCAAS,GAAjB,UAAkB,QAAgB;QAChC,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,EAAE;YAC5B,OAAO;SACR;QACD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,QAAQ,CAAC;IACrC,CAAC;IAEO,kCAAQ,GAAhB,UAAiB,IAAkC;QACjD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAEO,qCAAW,GAAnB,UAAoB,MAAc,EAAE,MAAc;;QAChD,IAAM,eAAe,GAAa,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;aACpE,IAAI,CAAC,SAAS,CAAC;aACf,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,EAAD,CAAC,CAAC,CAAC;QAEpB,4CAA4C;QAC5C,IAAM,eAAe,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;;YAExD,KAA6B,IAAA,KAAA,iBAAA,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA,gBAAA,4BAAE;gBAAxD,IAAA,gCAAc,EAAb,aAAK,EAAE,aAAK;gBACtB,eAAe,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;aACnD;;;;;;;;;QAED,eAAe,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,GAAG,CAAC,EAAL,CAAK,CAAC,CAAC;;YAEtC,KAAuC,IAAA,KAAA,iBAAA,eAAe,CAAC,OAAO,EAAE,CAAA,gBAAA,4BAAE;gBAAvD,IAAA,gCAAwB,EAAvB,eAAO,EAAE,qBAAa;gBAChC,eAAe,CAAC,MAAM,CAAC,aAAa,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC;aACpD;;;;;;;;;QAED,mCAAmC;QACnC,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC;QAE/B,OAAO,YAAY,EAAE;YACnB,IAAM,KAAK,GAAG,eAAe,CAAC,MAAM,CAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,eAAe,CAAC,MAAM,CAAC,EAClD,CAAC,CACF,CAAC,CAAC,CAAC,CAAC;YAEL,IAAM,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9B,IAAM,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAEpC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9B,YAAY,IAAI,CAAC,CAAC;;gBAElB,KAA6B,IAAA,oBAAA,iBAAA,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA,CAAA,gBAAA,4BAAE;oBAA9C,IAAA,gCAAc,EAAb,aAAK,EAAE,aAAK;oBACtB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,CAAC;iBACzC;;;;;;;;;SACF;QAED,IAAI,CAAC,YAAY,iBAAkB,CAAC;IACtC,CAAC;IAEO,yCAAe,GAAvB,UAAwB,CAAS,EAAE,CAAS;;QAC1C,IAAM,WAAW,GAA4B,EAAE,CAAC;;YAEhD,KAAoB,IAAA,KAAA,iBAAA,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAA,gBAAA,4BAAE;gBAAlC,IAAM,KAAK,WAAA;gBACd,IAAI,KAAK,GAAG,CAAC,EAAE;oBACb,SAAS;iBACV;gBACD,IAAI,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;oBACzB,SAAS;iBACV;;oBAED,KAAoB,IAAA,oBAAA,iBAAA,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAA,CAAA,gBAAA,4BAAE;wBAAlC,IAAM,KAAK,WAAA;wBACd,IAAI,KAAK,GAAG,CAAC,EAAE;4BACb,SAAS;yBACV;wBACD,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;4BACxB,SAAS;yBACV;wBACD,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,EAAE;4BAC9B,SAAS;yBACV;wBAED,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;qBAClC;;;;;;;;;aACF;;;;;;;;;QAED,OAAO,WAAW,CAAC;IACrB,CAAC;IAED;;OAEG;IACK,yCAAe,GAAvB,UAAwB,QAAgB,EAAE,QAAgB;;QACxD,yCAAyC;QACzC,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;QAClD,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;;YAEzC,KAAqB,IAAA,KAAA,iBAAA,IAAI,CAAC,WAAW,CAAA,gBAAA,4BAAE;gBAA5B,IAAA,gCAAM,EAAL,SAAC,EAAE,SAAC;gBACd,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,IAAI,KAAK,WAAW,EAAE;oBACxB,SAAS;iBACV;gBACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC5B;;;;;;;;;IACH,CAAC;IAED;;;OAGG;IACK,iCAAO,GAAf,UAAgB,CAAS,EAAE,CAAS;;QAClC,wEAAwE;QACxE,IAAM,SAAS,GAAG,IAAI,GAAG,CAAS,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;;YAEzD,KAAoB,IAAA,cAAA,iBAAA,SAAS,CAAA,oCAAA,2DAAE;gBAA1B,IAAM,KAAK,sBAAA;gBACd,IAAM,GAAC,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC9B,IAAM,GAAC,GAAG,CAAC,KAAK,GAAG,GAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;gBAEpC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,CAAC;gBAE7B,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACjB,MAAM,KAAK,CAAC,uBAAuB,CAAC,CAAC;iBACtC;gBACD,IAAI,IAAI,CAAC,OAAO,EAAE;oBAChB,IAAI,CAAC,eAAe,CAAC,GAAC,EAAE,GAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,QAAQ,cAAe,CAAC;oBAC7B,MAAM;iBACP;gBAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,eAAe,CAAC,GAAC,EAAE,GAAC,CAAC,CAAC;gBAE3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;gBAEtC,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,EAAE;oBACxB,IAAI,CAAC,QAAQ,aAAc,CAAC;oBAC5B,MAAM;iBACP;gBAED,mEAAmE;gBACnE,IAAI,IAAI,CAAC,aAAa,EAAE;oBACtB,SAAS;iBACV;;oBAED,KAA6B,IAAA,qBAAA,iBAAA,IAAI,CAAC,eAAe,CAAC,GAAC,EAAE,GAAC,CAAC,CAAA,CAAA,gBAAA,4BAAE;wBAA9C,IAAA,gCAAc,EAAb,aAAK,EAAE,aAAK;wBACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;wBACzC,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;4BAC3C,SAAS,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;yBAC5C;qBACF;;;;;;;;;aACF;;;;;;;;;QACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IACH,sBAAC;AAAD,CAAC,AAtVD,IAsVC"}